<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav ul li a { background-image: none; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="shortcut icon" type="image/png" href="/images/mod_logo_red_purple.png"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Part 2 - What is Plugin? | V Rising Mod Wiki</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="Part 2 - What is Plugin?" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Information about mods for the game V Rising: How to setup on Windows / Linux. Developer information. How to build, debug, and publish your mods." /> <meta property="og:description" content="Information about mods for the game V Rising: How to setup on Windows / Linux. Developer information. How to build, debug, and publish your mods." /> <link rel="canonical" href="https://vrising.wiki/dev/tutorials/SampleTutorial/02_sample_plugin.html" /> <meta property="og:url" content="https://vrising.wiki/dev/tutorials/SampleTutorial/02_sample_plugin.html" /> <meta property="og:site_name" content="V Rising Mod Wiki" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Part 2 - What is Plugin?" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Information about mods for the game V Rising: How to setup on Windows / Linux. Developer information. How to build, debug, and publish your mods.","headline":"Part 2 - What is Plugin?","url":"https://vrising.wiki/dev/tutorials/SampleTutorial/02_sample_plugin.html"}</script> <!-- End Jekyll SEO tag --> <script defer data-domain="wiki.vrisingmods.com" src="https://traffic.dev.deca.gg/js/script.js"></script> <meta property="og:description" content="Information about mods for the game V Rising: How to setup on Windows / Linux. Developer information. How to build, debug, and publish your mods."> <meta property="og:image" content="/images/mod_logo_red_purple.png"> <meta property="twitter:image" content="/images/mod_logo_red_purple.png"> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"><div class="logo"> <img src="/images/mod_logo_red_purple.png" /> <div class="title"> <span class="top">V Rising</span> <span class="bottom">Mod Wiki</span> </div> </div></a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">V Rising Mod Wiki</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in For Developers category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/dev/" class="nav-list-link">For Developers</a><ul class="nav-list"><li class="nav-list-item"><a href="/dev/migration_guide.html" class="nav-list-link">Migration Guide for 1.0 Update</a></li><li class="nav-list-item"><a href="/dev/open%20source.html" class="nav-list-link">Open Source Mods</a></li><li class="nav-list-item"><a href="/dev/resources.html" class="nav-list-link">Resources</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Tutorials category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/dev/tutorials/" class="nav-list-link">Tutorials</a><ul class="nav-list"></ul></li><li class="nav-list-item"><a href="/dev/upload_to_thunderstore.html" class="nav-list-link">Uploading To Thunderstore</a></li><li class="nav-list-item"><a href="/dev/template.html" class="nav-list-link">dotnet new vrisingmod</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in For Users category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/user/" class="nav-list-link">For Users</a><ul class="nav-list"><li class="nav-list-item"><a href="/user/bepinex_install.html" class="nav-list-link">Manual BepInEx Installation</a></li><li class="nav-list-item"><a href="/user/Mod_Install.html" class="nav-list-link">Manual Mod Installation</a></li><li class="nav-list-item"><a href="/user/Using_Server_Mods.html" class="nav-list-link">Using Server Mods in-game</a></li><li class="nav-list-item"><a href="/user/client_rollback.html" class="nav-list-link">How to rollback client</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Prefabs category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/prefabs/" class="nav-list-link">Prefabs</a><ul class="nav-list"></ul></li><li class="nav-list-item"><a href="/editing.html" class="nav-list-link">Wiki Editing ü§î</a></li></ul> <ul class="nav-list"><li class="nav-list-item external"> <a href="https://vrisingmods.com/discord" class="nav-list-link external" > Join our Discord </a> </li><li class="nav-list-item external"> <a href="https://github.com/crimsonmods/vrising-modding/new/main/dev?filename=FILE_NAME.md&value=---%0Atitle%3A%20YOUR%20TITLE%20HERE%20%28i.e.%20page%20title%29%0Aparent%3A%20PARENT%20DOC%20TITLE%20%28e.g.%20For%20Developers%29%0A---%0A%0A1.%20Update%20the%20FILE_NAME%20and%20path%20above%20the%20editor%0A2.%20Set%20the%20title%20and%20parent%20at%20top%20of%20this%20doc%20%0A3.%20You%20can%20find%20more%20info%3A%20https%3A%2F%2Fjust-the-docs.github.io%2Fjust-the-docs%2Fdocs%2Fnavigation-structure%2F%20%0A4.%20After%20you%27re%20done%2C%20scroll%20down%20and%20please%20start%20a%20pull%20request%20%F0%9F%98%8A%0A5.%20Replace%20these%20instructions%20with%20your%20wiki%20content%20in%20markdown" class="nav-list-link external" > ‚ûï Add new page </a> </li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search V Rising Mod Wiki" aria-label="Search V Rising Mod Wiki" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://vrisingmods.com/discord" class="site-button" > Join our Discord </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="">Sample Introduction</a></li> <li class="breadcrumb-nav-list-item"><span>Part 2 - What is Plugin?</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="part-2-what-is-plugin"> <a href="#part-2-what-is-plugin" class="anchor-heading" aria-labelledby="part-2-what-is-plugin"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Part 2: What is Plugin? </h1> <p>In this part we will explore the project generated by the Template and try to understand the general structure and components of a V Rising mod.</p> <p>You should have a matching Solution Explorer as the below image.</p> <p><img src="/images/tut_sample_solution.png" alt="solution-explorer" /></p> <p>We will go over each folder and file, but we‚Äôll go in order that I typically would build them without a template.</p> <h2 id="attributes--variables"> <a href="#attributes--variables" class="anchor-heading" aria-labelledby="attributes--variables"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Attributes &amp; Variables </h2> <p>Plugin is the absolute center of your mod. It is the script that BepInEx uses to load the mod into the game. From top to bottom I‚Äôll explain what each part of the script does.</p> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="nf">BepInPlugin</span><span class="p">(</span><span class="n">MyPluginInfo</span><span class="p">.</span><span class="n">PLUGIN_GUID</span><span class="p">,</span> <span class="n">MyPluginInfo</span><span class="p">.</span><span class="n">PLUGIN_NAME</span><span class="p">,</span> <span class="n">MyPluginInfo</span><span class="p">.</span><span class="n">PLUGIN_VERSION</span><span class="p">)]</span>
<span class="p">[</span><span class="nf">BepInDependency</span><span class="p">(</span><span class="s">"gg.deca.VampireCommandFramework"</span><span class="p">)]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">Plugin</span> <span class="p">:</span> <span class="n">BasePlugin</span>
</code></pre></div></div> <p>I won‚Äôt be going into detail on what a <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/classes">Class</a>, <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/structs">Struct</a>, interface, or other types in C# are. You can pick up on that over time as you mod or can checkout some C# tutorials to learn more.</p> <p>The top two elements here BepInPlugin and BepInDependency are <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/attributes">Attributes</a> that define how the BepInEx loader should define and handle our mod.</p> <p>Plugin GUID is the assembly name of our mod, you could change this if you wanted to be different than the assembly; but currently it is <code class="language-plaintext highlighter-rouge">DiceRoller</code>.</p> <p>As such Plugin Name will also be <code class="language-plaintext highlighter-rouge">DiceRoller</code>. There isn‚Äôt much reason to have these difference unless you‚Äôre building a framework and want to have library-like addresses for your guid (i.e. VampireCommandFramework).</p> <p>Plugin Version defines the current <a href="https://www.geeksforgeeks.org/introduction-semantic-versioning/">Semantic Version</a> of your mod. 1.0.0 for example is the default. As you update your mod this version will increase and inform user (and Thunderstore) to update.</p> <p>The second Attribute shown is BepInDependency. This tells BepInEx that your mod <em>must</em> be loaded after VampireCommandFramework in-order to function. You can also tell BepInEx that you want to load after specific mods but don‚Äôt necessarily need them to be present with <a href="https://docs.bepinex.dev/master/api/BepInEx.BepInDependency.html">DependencyFlag.SoftDependency</a>. But that‚Äôs a tad more advanced of a topic.</p> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Harmony</span> <span class="n">_harmony</span><span class="p">;</span>
<span class="k">public</span> <span class="k">static</span> <span class="n">Plugin</span> <span class="n">Instance</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="k">public</span> <span class="k">static</span> <span class="n">Harmony</span> <span class="n">Harmony</span> <span class="p">=&gt;</span> <span class="n">Instance</span><span class="p">.</span><span class="n">_harmony</span><span class="p">;</span>
<span class="k">public</span> <span class="k">static</span> <span class="n">ManualLogSource</span> <span class="n">LogInstance</span> <span class="p">=&gt;</span> <span class="n">Instance</span><span class="p">.</span><span class="n">Log</span><span class="p">;</span>
<span class="k">public</span> <span class="k">static</span> <span class="n">Settings</span> <span class="n">Settings</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</code></pre></div></div> <p><a href="https://harmony.pardeike.net/articles/intro.html">Harmony</a> is a patching library for .NET at runtime. This is what enables us to modify and augment the game‚Äôs code to do different things. BepInEx is using a forked flavor of Harmony called <code class="language-plaintext highlighter-rouge">HarmonyX</code>.</p> <p>Plugin Instance is simply giving us a <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/static">Static</a> reference to our Plugin class that we can call anywhere in the application.</p> <p>You can see that both Harmony and LogInstance are being set to instances inside the Plugin static ‚ÄúInstance‚Äù.</p> <p>ManualLogSource is the name of BepInEx‚Äôs logging system. This will output information to the <code class="language-plaintext highlighter-rouge">LogOutpout.log</code> file at runtime. For example:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[Info   :CrimsonBanned] |CrimsonBanned[1.2.0] initialized|
[Info   :CrimsonClans] InitializeAfterLoaded completed
[Info   :CrimsonStyle] Loaded Styles Database: 3 entries
</code></pre></div></div> <p>This is useful for all kinds of reason such as debugging, ensuring the mod is loading, and just general audit information.</p> <p>And lastly there is Settings, we will return to this in a future part soon, but for now just know that it is the container &amp; generator for the BepInEx Config for the mod.</p> <h2 id="what-is-load"> <a href="#what-is-load" class="anchor-heading" aria-labelledby="what-is-load"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What is Load() </h2> <p>So imagine BepInEx is going through each mod one-by-one. It needs instruction on what to do when it reaches your mod. Load is that instruction, it is all the elements required to get your mod initially loaded. Now there are instances where you don‚Äôt want to initialize everything about your mod at this point; as the server does not exist yet fully. We‚Äôll get into that more with Core.cs.</p> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Load</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Instance</span> <span class="p">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="n">Settings</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Settings</span><span class="p">();</span>
    <span class="n">Settings</span><span class="p">.</span><span class="nf">InitConfig</span><span class="p">();</span>

    <span class="n">Log</span><span class="p">.</span><span class="nf">LogInfo</span><span class="p">(</span><span class="s">$"Plugin </span><span class="p">{</span><span class="n">MyPluginInfo</span><span class="p">.</span><span class="n">PLUGIN_GUID</span><span class="p">}</span><span class="s"> version </span><span class="p">{</span><span class="n">MyPluginInfo</span><span class="p">.</span><span class="n">PLUGIN_VERSION</span><span class="p">}</span><span class="s"> is loaded!"</span><span class="p">);</span>

    <span class="c1">// Harmony patching</span>
    <span class="n">_harmony</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Harmony</span><span class="p">(</span><span class="n">MyPluginInfo</span><span class="p">.</span><span class="n">PLUGIN_GUID</span><span class="p">);</span>
    <span class="n">_harmony</span><span class="p">.</span><span class="nf">PatchAll</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Reflection</span><span class="p">.</span><span class="n">Assembly</span><span class="p">.</span><span class="nf">GetExecutingAssembly</span><span class="p">());</span>

    <span class="c1">// Register all commands in the assembly with VCF</span>
    <span class="n">CommandRegistry</span><span class="p">.</span><span class="nf">RegisterAll</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div> <p>Learn about <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void">void</a> here. Learn about <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/override">override</a> here.</p> <p>Code is executed top to bottom, so here we can see the first thing we do is set our Instance variable from above to <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/this">this</a> instance of Plugin.</p> <p>Then we create a new instance of our Settings script and call the InitConfig method from it. Again we‚Äôll go into detail about what this is doing later.</p> <p>We then call our ManualLogSource and output to the log that our mod was loaded.</p> <p>Then we are setting up Harmony for our mod by passing in an identifier (our GUID) and telling it to patch all of the assemblies in our project (everything in the <code class="language-plaintext highlighter-rouge">Patches</code> folder in this instance).</p> <p>You can also specify specific things to Patch and Unpatch as well, but again that‚Äôs a tad more advanced of a topic that we won‚Äôt be going into deeply in this tutorial.</p> <p>Lastly you‚Äôll see the CommandRegistry.RegisterAll method call. This is to the VampireCommandFramework telling it to load all the commands in the project (everything in the <code class="language-plaintext highlighter-rouge">Commands</code> folder in this instance).</p> <h2 id="what-is-unload"> <a href="#what-is-unload" class="anchor-heading" aria-labelledby="what-is-unload"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What is Unload() </h2> <p>Like Load, we also need to tell BepInEx what to do when we Unload the mod (the server shuts down or the game closes).</p> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">override</span> <span class="kt">bool</span> <span class="nf">Unload</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">CommandRegistry</span><span class="p">.</span><span class="nf">UnregisterAssembly</span><span class="p">();</span>
    <span class="n">_harmony</span><span class="p">?.</span><span class="nf">UnpatchSelf</span><span class="p">();</span>
    <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>This is rather straightforward. We unregister our commands from VCF (VampireCommandFramework) and unpatch from Harmony. Then we return true to tell BepInEx that we‚Äôve succeeded in unloading.</p> <p>Next <a href="02_sample_ecs.md">Part 2: What are ECSExtensions?</a></p> </main> <hr> <footer> <p><a href="#top" id="back-to-top">Back to top</a></p> Wiki maintained by <a href="https://github.com/CrimsonMods/">CrimsonMods</a> and other <a href="https://github.com/CrimsonMods/VRising-Modding/graphs/contributors">contributors</a>. <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/crimsonmods/vrising-modding/edit/main/dev/tutorials/SampleTutorial/02_sample_plugin.md" id="edit-this-page">Edit this page on GitHub.</a> </p> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
